# Hướng dẫn chạy dự án

Tài liệu này giúp bạn (và mọi người) chạy dự án ngay sau khi clone.

## Yêu cầu
- Cài Docker Desktop (Windows/macOS) hoặc Docker Engine (Linux)
- Cổng 3000 (ứng dụng) rảnh trên máy
- Cổng 3307 trên máy (MySQL đã được ánh xạ sang 3307 để tránh đụng 3306)

## Clone và chạy nhanh bằng Docker
1) Clone repo:
```cmd
git clone https://github.com/Thanhdai2312/SGU2025_CNPM_DCT122C3_NHOM18.git
cd SGU2025_CNPM_DCT122C3_NHOM18
```

2) Khởi chạy stack (MySQL + App):
```cmd
docker compose up -d --build
```

3) Truy cập ứng dụng:
- URL: http://localhost:3000
- MySQL (nếu cần kết nối từ host):
  - Host: 127.0.0.1
  - Port: 3307
  - User: root
  - Pass: 1234
  - Database: drone_fastfood

4) Dừng/dọn dẹp:
```cmd
docker compose down
```
Xoá luôn dữ liệu MySQL (cẩn thận):
```cmd
docker compose down -v
```

## Lưu ý cấu hình
- File `docker-compose.yml` đã cấu hình sẵn biến môi trường cần thiết cho backend (DATABASE_URL, JWT_SECRET...). Không cần tạo `.env` để chạy bằng Docker.
- Frontend được build và phục vụ tĩnh bởi backend trong container; không cần chạy lẻ Vite.
- Nếu cổng 3000 đang bị chiếm, bạn có thể sửa phần `ports` của service `app` trong `docker-compose.yml` (ví dụ `8080:3000`).

## CI/CD (tuỳ chọn)
- Workflow `.github/workflows/docker.yml` sẽ build và đẩy image lên GHCR khi push vào nhánh `main`.
- Nếu muốn chạy bằng image có sẵn (public), có thể tạo file compose override để dùng image `ghcr.io/<owner>/cnpm-app:latest` thay vì build local.

## Hỗ trợ
Nếu gặp vấn đề khi chạy, kiểm tra log:
```cmd
docker compose logs -f app
```
Và đảm bảo Docker Desktop đang ở trạng thái "Running" trước khi khởi chạy.
